<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Publisher</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"/>
</head>
<body>
  <div class="container">
		<div>
			<form>
				<div class="mb-3">
					<label for="_idpublisher" class="form-label">Seleccione una Productora </label>
					<select name="marca" id="_idpublisher" class="form-select" required>
						<option value="">Seleccione</option>
					</select>
				</div>
				<table class="table" >
					<thead>
						<tr>
							<th>Id</th>
							<th>Name</th>
							<th>Full Name</th>
							<th>Gender</th>
							<th>Race</th>
						</tr>
					</thead>
					<tbody id="tbody">
					</tbody>
				</table>
			</form>
		</div>
	</div>
	<script>
		document.addEventListener("DOMContentLoaded",()=>{
			function $(id){return document.querySelector(id); }
			(function(){
				fetch(`../Controllers/productores.controllers.php?tarea=listar`)
				.then(respuesta => respuesta.json())
				.then(datos => {
					console.log(datos)
						datos.forEach(element => {
						const option = document.createElement("option")
						option.value = element._idpublisher
						option.innerHTML = element.publisher_name
						$("#_idpublisher").appendChild(option)
					});
				})
				.catch(e=>{
					console.error(e)
				})
			})();



			(function(){
				const tbody = $("tbody");
			})
		})
	</script>
</body>
</html>